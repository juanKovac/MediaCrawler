# MediaCrawler Web界面使用说明

## 概述

本项目现在提供了一个用户友好的Web界面，让您可以通过浏览器轻松配置和运行爬虫任务，无需使用命令行。

## 功能特性

- 🌐 **直观的Web界面** - 通过浏览器操作，无需命令行知识
- 🚀 **实时任务监控** - 查看任务状态、进度和结果
- 📊 **数据管理** - 在线预览和下载爬取的数据文件
- 🔧 **完整配置选项** - 支持所有原有的爬虫配置参数
- 📱 **响应式设计** - 支持桌面和移动设备访问

## 安装和启动

### 1. 安装Web依赖

```bash
# 安装Web界面所需的额外依赖
pip install -r requirements-web.txt
```

### 2. 启动Web服务

```bash
# 启动Web服务器
python web_app.py
```

服务启动后，您将看到类似以下的输出：
```
 * Running on http://127.0.0.1:5000
 * Debug mode: on
```

### 3. 访问Web界面

在浏览器中打开 `http://localhost:5000` 即可访问Web界面。

## 使用指南

### 主页 - 创建爬虫任务

1. **选择平台**：选择要爬取的社交媒体平台（小红书、抖音、快手等）
2. **配置登录方式**：
   - 扫码登录：通过二维码登录（推荐）
   - 手机号登录：使用手机号和验证码
   - Cookie登录：使用已有的Cookie信息
3. **选择爬取类型**：
   - 关键词搜索：根据关键词搜索相关内容
   - 指定详情：爬取特定帖子的详细信息
   - 博主主页：爬取指定博主的所有内容
4. **输入关键词**：如果选择关键词搜索，请输入要搜索的关键词
5. **高级设置**（可选）：
   - 起始页码：从第几页开始爬取
   - 最大爬取数量：限制爬取的内容数量
   - 数据保存格式：选择JSON、CSV或数据库格式
   - 爬取评论：是否同时爬取评论信息
6. **启动任务**：点击"开始爬取"按钮启动任务

### 任务管理页面

- **查看所有任务**：显示历史和当前运行的所有任务
- **任务状态监控**：实时查看任务状态（等待中、运行中、已完成、失败、已停止）
- **任务详情**：点击任务卡片查看详细信息和配置参数
- **停止任务**：对于正在运行的任务，可以手动停止
- **错误信息**：如果任务失败，可以查看具体的错误信息

### 数据管理页面

- **文件列表**：查看所有爬取生成的数据文件
- **文件预览**：在线预览JSON和CSV格式的数据文件
- **文件下载**：下载数据文件到本地
- **文件信息**：查看文件大小和修改时间

## 配置说明

### 平台支持

- **小红书 (xhs)**：支持笔记、用户、评论爬取
- **抖音 (dy)**：支持视频、用户、评论爬取
- **快手 (ks)**：支持视频、用户、评论爬取
- **哔哩哔哩 (bili)**：支持视频、用户、评论爬取
- **微博 (wb)**：支持微博、用户、评论爬取

### 登录方式

1. **扫码登录**：最安全便捷的方式，推荐使用
2. **手机号登录**：需要接收验证码
3. **Cookie登录**：适合技术用户，需要手动获取Cookie

### 数据保存格式

- **JSON**：结构化数据，便于程序处理
- **CSV**：表格格式，便于Excel打开
- **数据库**：存储到SQLite数据库
- **全部格式**：同时保存为多种格式

## 注意事项

### 使用须知

1. **遵守法律法规**：请确保您的爬取行为符合当地法律法规
2. **尊重平台规则**：遵守目标平台的使用条款和robots.txt规则
3. **合理控制频率**：避免过于频繁的请求，以免对平台造成负担
4. **数据使用规范**：爬取的数据仅供学习研究使用，不得用于商业用途

### 技术注意事项

1. **浏览器要求**：首次使用需要安装Playwright浏览器驱动
2. **网络环境**：确保网络连接稳定，某些平台可能需要特定的网络环境
3. **资源占用**：爬虫运行时会占用一定的CPU和内存资源
4. **数据存储**：确保有足够的磁盘空间存储爬取的数据

### 常见问题

**Q: 任务一直显示"运行中"但没有结果？**
A: 可能是登录失败或网络问题，请检查登录状态和网络连接。

**Q: 如何获取Cookie信息？**
A: 可以通过浏览器开发者工具获取，具体方法请参考原项目文档。

**Q: 爬取速度很慢怎么办？**
A: 这是正常现象，为了避免被平台检测，爬虫会控制请求频率。

**Q: 可以同时运行多个任务吗？**
A: 建议一次只运行一个任务，避免资源冲突和被平台检测。

## 技术支持

如果您在使用过程中遇到问题，可以：

1. 查看任务详情中的错误信息
2. 检查浏览器控制台的错误日志
3. 参考原项目的README文档
4. 在项目GitHub页面提交Issue

## 更新日志

### v1.0.0
- 初始版本发布
- 支持所有原有命令行功能
- 提供完整的Web界面
- 实现任务管理和数据管理功能

---

**免责声明**：本工具仅供学习和研究目的使用。使用者应遵守相关法律法规和平台使用条款，不得用于任何非法或不当的用途。开发者不承担因使用本工具而产生的任何法律责任。